<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0 ,user-scalable=no">
    <!-- <title></title> -->
    <style>
        .artplayer-app {
            width: 100%;
            height: 300px;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/artplayer/dist/artplayer.css" />
    <script src="https://cdn.jsdelivr.net/npm/artplayer/dist/artplayer.js"></script>
</head>

<body>
    <h4 id="title">Share</h1>
    <div class="artplayer-app"></div>
</body>
<script>
// 获取当前页面的URL
const currentUrl = window.location.href;
// 创建URL对象
const urlObj = new URL(currentUrl);
// 获取查询参数
const params = new URLSearchParams(urlObj.search);
// 获取file参数
const filePath = params.get('file');
document.title = decodeURIComponent(filePath).split('/').slice(-1)[0];
document.getElementById('title').innerHTML = decodeURIComponent(filePath).split('/').slice(-1)[0];
const mp4Url = "http://router.xieru.fun:2082/" + filePath;
const art = new Artplayer({
            container: '.artplayer-app',
            url: mp4Url,
            airplay: true,
            playsInline: true,
            autoSize: true,
            lock: true,
            fullscreen: true,
            fullscreenWeb: true,
            pip: true,
            autoplay: true,
            moreVideoAttr: {
                // @ts-ignore
                "webkit-playsinline": true,
                playsInline: true,
            },
            fastForward: true,
            autoPlayback: true,
            autoOrientation: true,
        });


</script>

</html>