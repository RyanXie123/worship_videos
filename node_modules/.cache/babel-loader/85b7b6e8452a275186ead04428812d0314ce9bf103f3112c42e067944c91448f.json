{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      videos: []\n    };\n  },\n  mounted() {\n    const requestData = {\n      path: \"/tianyi/study/赞美/赞美之泉/讚美之泉敬拜讚美專輯(01) 讓讚美飛揚 Let Praise Arise/\",\n      password: \"\",\n      page: 1,\n      per_page: 0,\n      refresh: false\n    };\n    axios.post('https://router.xieru.fun:12315/api/fs/list', requestData).then(response => {\n      this.videos = response.data.data.content;\n    }).catch(error => {\n      console.error(error);\n    });\n  },\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleDateString();\n    },\n    formatSize(size) {\n      const fileSizeMB = (size / (1024 * 1024)).toFixed(2);\n      return `${fileSizeMB} MB`;\n    },\n    getThumbnail(video) {\n      if (video.thumb === '') {\n        // 如果thumb为空字符串，返回项目内的默认图片路径\n        return \"https://router.xieru.fun:12315/d/tianyi/projects/thumbs/%E5%AE%89%E9%9D%99%E7%B3%BB%E5%88%97.jpg\";\n      } else {\n        return video.thumb;\n      }\n    },\n    navigateToVideo(video) {\n      console.log(video);\n      if (video.is_dir) {\n        console.log(\"xxx\");\n      } else {\n        console.log('push');\n        console.log(this.$router);\n        this.$router.push({\n          name: 'VideoPlayer',\n          props: {\n            video\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","videos","mounted","requestData","path","password","page","per_page","refresh","post","then","response","content","catch","error","console","methods","formatDate","dateString","date","Date","toLocaleDateString","formatSize","size","fileSizeMB","toFixed","getThumbnail","video","thumb","navigateToVideo","log","is_dir","$router","push","name","props"],"sources":["/home/worship_video/src/components/VideoGrid.vue"],"sourcesContent":["<template>\n    <div class=\"video-grid\">\n      <div class=\"video-item\" v-for=\"video in videos\" :key=\"video.name\" @click=\"navigateToVideo(video)\">\n        <img :src=\"getThumbnail(video)\" alt=\"Video Thumbnail\" class=\"video-thumbnail\" />\n        <div class=\"video-info\">\n          <h3 class=\"video-name\">{{ video.name }}</h3>\n          <!-- <p class=\"video-date\">Created: {{ formatDate(video.created) }}</p> -->\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      videos: [],\n    };\n  },\n  mounted() {\n    const requestData = {\n      path: \"/tianyi/study/赞美/赞美之泉/讚美之泉敬拜讚美專輯(01) 讓讚美飛揚 Let Praise Arise/\",\n      password: \"\",\n      page: 1,\n      per_page: 0,\n      refresh: false\n    };\n\n    axios.post('https://router.xieru.fun:12315/api/fs/list', requestData)\n      .then(response => {\n        this.videos = response.data.data.content;\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  },\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return date.toLocaleDateString();\n    },\n    formatSize(size) {\n      const fileSizeMB = (size / (1024 * 1024)).toFixed(2);\n      return `${fileSizeMB} MB`;\n    },\n    getThumbnail(video) {\n      if (video.thumb === '') {\n        // 如果thumb为空字符串，返回项目内的默认图片路径\n        return \"https://router.xieru.fun:12315/d/tianyi/projects/thumbs/%E5%AE%89%E9%9D%99%E7%B3%BB%E5%88%97.jpg\";\n      } else {\n        return video.thumb;\n      }\n    },\n    navigateToVideo(video) {\n        console.log(video)\n        if(video.is_dir)\n        {\n            console.log(\"xxx\")\n        } else\n        {\n            console.log('push');\n            console.log(this.$router);\n            this.$router.push({ name: 'VideoPlayer', props: { video } });\n        }\n    },\n  },\n};\n\n</script>\n\n<style scoped>\n.video-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr); /* 将网格分为两列，每列平均占据剩余空间 */\n  gap: 20px; /* 设置列间隔，根据需要进行调整 */\n}\n\n.video-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.video-thumbnail {\n    width: 100%;\n    height: auto;\n    object-fit: cover;\n    border-radius: 5px;\n}\n\n.video-info {\n    margin-top: 0px;\n    text-align: center;\n}\n\n.video-name {\n    font-size: 12px;\n    font-weight: normal;\n}\n\n.video-date,\n.video-size {\n    font-size: 14px;\n    margin-top: 5px;\n}\n</style>"],"mappings":";AAaA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,MAAMC,WAAU,GAAI;MAClBC,IAAI,EAAE,8DAA8D;MACpEC,QAAQ,EAAE,EAAE;MACZC,IAAI,EAAE,CAAC;MACPC,QAAQ,EAAE,CAAC;MACXC,OAAO,EAAE;IACX,CAAC;IAEDT,KAAK,CAACU,IAAI,CAAC,4CAA4C,EAAEN,WAAW,EACjEO,IAAI,CAACC,QAAO,IAAK;MAChB,IAAI,CAACV,MAAK,GAAIU,QAAQ,CAACX,IAAI,CAACA,IAAI,CAACY,OAAO;IAC1C,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EACDE,OAAO,EAAE;IACPC,UAAUA,CAACC,UAAU,EAAE;MACrB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU,CAAC;MACjC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,CAAC;IAClC,CAAC;IACDC,UAAUA,CAACC,IAAI,EAAE;MACf,MAAMC,UAAS,GAAI,CAACD,IAAG,IAAK,IAAG,GAAI,IAAI,CAAC,EAAEE,OAAO,CAAC,CAAC,CAAC;MACpD,OAAQ,GAAED,UAAU,KAAK;IAC3B,CAAC;IACDE,YAAYA,CAACC,KAAK,EAAE;MAClB,IAAIA,KAAK,CAACC,KAAI,KAAM,EAAE,EAAE;QACtB;QACA,OAAO,kGAAkG;MAC3G,OAAO;QACL,OAAOD,KAAK,CAACC,KAAK;MACpB;IACF,CAAC;IACDC,eAAeA,CAACF,KAAK,EAAE;MACnBZ,OAAO,CAACe,GAAG,CAACH,KAAK;MACjB,IAAGA,KAAK,CAACI,MAAM,EACf;QACIhB,OAAO,CAACe,GAAG,CAAC,KAAK;MACrB,OACA;QACIf,OAAO,CAACe,GAAG,CAAC,MAAM,CAAC;QACnBf,OAAO,CAACe,GAAG,CAAC,IAAI,CAACE,OAAO,CAAC;QACzB,IAAI,CAACA,OAAO,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE,aAAa;UAAEC,KAAK,EAAE;YAAER;UAAM;QAAE,CAAC,CAAC;MAChE;IACJ;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}